"use strict";
(self["webpackChunkvshb_local"] = self["webpackChunkvshb_local"] || []).push([["node_modules_tsparticles_plugin-motion_browser_MotionInstance_js"],{

/***/ "./node_modules/@tsparticles/plugin-motion/browser/MotionInstance.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@tsparticles/plugin-motion/browser/MotionInstance.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MotionInstance: () => (/* binding */ MotionInstance)
/* harmony export */ });
/* harmony import */ var _tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tsparticles/engine */ "./node_modules/@tsparticles/engine/browser/index.js");

const defaultFactor = 1, defaultReduce = 0, identity = 1;
class MotionInstance {
    constructor(container, engine) {
        this._handleMotionChange = (mediaQuery) => {
            const container = this._container, motion = container.actualOptions.motion;
            if (!motion) {
                return;
            }
            if (mediaQuery.matches) {
                if (motion.disable) {
                    container.retina.reduceFactor = defaultReduce;
                }
                else {
                    container.retina.reduceFactor = motion.reduce.value ? identity / motion.reduce.factor : defaultFactor;
                }
            }
            else {
                container.retina.reduceFactor = 1;
            }
        };
        this._container = container;
        this._engine = engine;
    }
    async init() {
        const container = this._container, options = container.actualOptions.motion;
        if (!(options && (options.disable || options.reduce.value))) {
            container.retina.reduceFactor = 1;
            return;
        }
        const mediaQuery = (0,_tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__.safeMatchMedia)("(prefers-reduced-motion: reduce)");
        if (!mediaQuery) {
            container.retina.reduceFactor = defaultFactor;
            return;
        }
        this._handleMotionChange(mediaQuery);
        const handleChange = () => {
            void (async () => {
                this._handleMotionChange(mediaQuery);
                try {
                    await container.refresh();
                }
                catch {
                }
            })();
        };
        if (mediaQuery.addEventListener !== undefined) {
            mediaQuery.addEventListener("change", handleChange);
        }
        else if (mediaQuery.addListener !== undefined) {
            mediaQuery.addListener(handleChange);
        }
        await Promise.resolve();
    }
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX3RzcGFydGljbGVzX3BsdWdpbi1tb3Rpb25fYnJvd3Nlcl9Nb3Rpb25JbnN0YW5jZV9qcy5tYXN0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBcUQ7QUFDckQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixtRUFBYztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZzaGIubG9jYWwvLi9ub2RlX21vZHVsZXMvQHRzcGFydGljbGVzL3BsdWdpbi1tb3Rpb24vYnJvd3Nlci9Nb3Rpb25JbnN0YW5jZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzYWZlTWF0Y2hNZWRpYSB9IGZyb20gXCJAdHNwYXJ0aWNsZXMvZW5naW5lXCI7XG5jb25zdCBkZWZhdWx0RmFjdG9yID0gMSwgZGVmYXVsdFJlZHVjZSA9IDAsIGlkZW50aXR5ID0gMTtcbmV4cG9ydCBjbGFzcyBNb3Rpb25JbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBlbmdpbmUpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTW90aW9uQ2hhbmdlID0gKG1lZGlhUXVlcnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciwgbW90aW9uID0gY29udGFpbmVyLmFjdHVhbE9wdGlvbnMubW90aW9uO1xuICAgICAgICAgICAgaWYgKCFtb3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVkaWFRdWVyeS5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdGlvbi5kaXNhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yID0gZGVmYXVsdFJlZHVjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yID0gbW90aW9uLnJlZHVjZS52YWx1ZSA/IGlkZW50aXR5IC8gbW90aW9uLnJlZHVjZS5mYWN0b3IgOiBkZWZhdWx0RmFjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XG4gICAgfVxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciwgb3B0aW9ucyA9IGNvbnRhaW5lci5hY3R1YWxPcHRpb25zLm1vdGlvbjtcbiAgICAgICAgaWYgKCEob3B0aW9ucyAmJiAob3B0aW9ucy5kaXNhYmxlIHx8IG9wdGlvbnMucmVkdWNlLnZhbHVlKSkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZXRpbmEucmVkdWNlRmFjdG9yID0gMTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gc2FmZU1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKTtcbiAgICAgICAgaWYgKCFtZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgICBjb250YWluZXIucmV0aW5hLnJlZHVjZUZhY3RvciA9IGRlZmF1bHRGYWN0b3I7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFuZGxlTW90aW9uQ2hhbmdlKG1lZGlhUXVlcnkpO1xuICAgICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB2b2lkIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTW90aW9uQ2hhbmdlKG1lZGlhUXVlcnkpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbnRhaW5lci5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAobWVkaWFRdWVyeS5hZGRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVDaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lZGlhUXVlcnkuYWRkTGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVkaWFRdWVyeS5hZGRMaXN0ZW5lcihoYW5kbGVDaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==