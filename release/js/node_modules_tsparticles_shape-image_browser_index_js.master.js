"use strict";
(self["webpackChunkvshb_local"] = self["webpackChunkvshb_local"] || []).push([["node_modules_tsparticles_shape-image_browser_index_js"],{

/***/ "./node_modules/@tsparticles/shape-image/browser/Utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tsparticles/shape-image/browser/Utils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   downloadSvgImage: () => (/* binding */ downloadSvgImage),
/* harmony export */   loadImage: () => (/* binding */ loadImage),
/* harmony export */   replaceImageColor: () => (/* binding */ replaceImageColor)
/* harmony export */ });
/* harmony import */ var _tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tsparticles/engine */ "./node_modules/@tsparticles/engine/browser/index.js");

const stringStart = 0, defaultOpacity = 1;
const currentColorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;
function replaceColorSvg(imageShape, color, opacity) {
    const { svgData } = imageShape;
    if (!svgData) {
        return "";
    }
    const colorStyle = (0,_tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__.getStyleFromHsl)(color, opacity);
    if (svgData.includes("fill")) {
        return svgData.replace(currentColorRegex, () => colorStyle);
    }
    const preFillIndex = svgData.indexOf(">");
    return `${svgData.substring(stringStart, preFillIndex)} fill="${colorStyle}"${svgData.substring(preFillIndex)}`;
}
async function loadImage(image) {
    return new Promise((resolve) => {
        image.loading = true;
        const img = new Image();
        image.element = img;
        img.addEventListener("load", () => {
            image.loading = false;
            resolve();
        });
        img.addEventListener("error", () => {
            image.element = undefined;
            image.error = true;
            image.loading = false;
            (0,_tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__.getLogger)().error(`${_tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__.errorPrefix} loading image: ${image.source}`);
            resolve();
        });
        img.src = image.source;
    });
}
async function downloadSvgImage(image) {
    if (image.type !== "svg") {
        await loadImage(image);
        return;
    }
    image.loading = true;
    const response = await fetch(image.source);
    if (!response.ok) {
        (0,_tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__.getLogger)().error(`${_tsparticles_engine__WEBPACK_IMPORTED_MODULE_0__.errorPrefix} Image not found`);
        image.error = true;
    }
    else {
        image.svgData = await response.text();
    }
    image.loading = false;
}
function replaceImageColor(image, imageData, color, particle) {
    const svgColoredData = replaceColorSvg(image, color, particle.opacity?.value ?? defaultOpacity), imageRes = {
        color,
        gif: imageData.gif,
        data: {
            ...image,
            svgData: svgColoredData,
        },
        loaded: false,
        ratio: imageData.width / imageData.height,
        replaceColor: imageData.replaceColor,
        source: imageData.src,
    };
    return new Promise((resolve) => {
        const svg = new Blob([svgColoredData], { type: "image/svg+xml" }), domUrl = URL || window.URL || window.webkitURL || window, url = domUrl.createObjectURL(svg), img = new Image();
        img.addEventListener("load", () => {
            imageRes.loaded = true;
            imageRes.element = img;
            resolve(imageRes);
            domUrl.revokeObjectURL(url);
        });
        const errorHandler = async () => {
            domUrl.revokeObjectURL(url);
            const img2 = {
                ...image,
                error: false,
                loading: true,
            };
            await loadImage(img2);
            imageRes.loaded = true;
            imageRes.element = img2.element;
            resolve(imageRes);
        };
        img.addEventListener("error", () => void errorHandler());
        img.src = url;
    });
}


/***/ }),

/***/ "./node_modules/@tsparticles/shape-image/browser/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tsparticles/shape-image/browser/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadImageShape: () => (/* binding */ loadImageShape)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@tsparticles/shape-image/browser/Utils.js");
/* harmony import */ var _tsparticles_engine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tsparticles/engine */ "./node_modules/@tsparticles/engine/browser/index.js");


const extLength = 3;
function addLoadImageToEngine(engine) {
    if (engine.loadImage) {
        return;
    }
    engine.loadImage = async (data) => {
        if (!data.name && !data.src) {
            throw new Error(`${_tsparticles_engine__WEBPACK_IMPORTED_MODULE_1__.errorPrefix} no image source provided`);
        }
        if (!engine.images) {
            engine.images = [];
        }
        if (engine.images.find((t) => t.name === data.name || t.source === data.src)) {
            return;
        }
        try {
            const image = {
                gif: data.gif ?? false,
                name: data.name ?? data.src,
                source: data.src,
                type: data.src.substring(data.src.length - extLength),
                error: false,
                loading: true,
                replaceColor: data.replaceColor,
                ratio: data.width && data.height ? data.width / data.height : undefined,
            };
            engine.images.push(image);
            let imageFunc;
            if (data.gif) {
                const { loadGifImage } = await __webpack_require__.e(/*! import() */ "vendors-node_modules_tsparticles_shape-image_browser_GifUtils_Utils_js").then(__webpack_require__.bind(__webpack_require__, /*! ./GifUtils/Utils.js */ "./node_modules/@tsparticles/shape-image/browser/GifUtils/Utils.js"));
                imageFunc = loadGifImage;
            }
            else {
                imageFunc = data.replaceColor ? _Utils_js__WEBPACK_IMPORTED_MODULE_0__.downloadSvgImage : _Utils_js__WEBPACK_IMPORTED_MODULE_0__.loadImage;
            }
            await imageFunc(image);
        }
        catch {
            throw new Error(`${_tsparticles_engine__WEBPACK_IMPORTED_MODULE_1__.errorPrefix} ${data.name ?? data.src} not found`);
        }
    };
}
async function loadImageShape(engine, refresh = true) {
    addLoadImageToEngine(engine);
    const { ImagePreloaderPlugin } = await __webpack_require__.e(/*! import() */ "node_modules_tsparticles_shape-image_browser_ImagePreloader_js").then(__webpack_require__.bind(__webpack_require__, /*! ./ImagePreloader.js */ "./node_modules/@tsparticles/shape-image/browser/ImagePreloader.js")), { ImageDrawer } = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_tsparticles_shape-image_browser_GifUtils_Utils_js"), __webpack_require__.e("node_modules_tsparticles_shape-image_browser_ImageDrawer_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ./ImageDrawer.js */ "./node_modules/@tsparticles/shape-image/browser/ImageDrawer.js"));
    const preloader = new ImagePreloaderPlugin(engine);
    await engine.addPlugin(preloader, refresh);
    await engine.addShape(["image", "images"], new ImageDrawer(engine), refresh);
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX3RzcGFydGljbGVzX3NoYXBlLWltYWdlX2Jyb3dzZXJfaW5kZXhfanMubWFzdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEU7QUFDOUU7QUFDQSx5Q0FBeUMsRUFBRSxFQUFFLElBQUksWUFBWSxFQUFFLCtCQUErQixJQUFJO0FBQ2xHO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvRUFBZTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOENBQThDLFFBQVEsV0FBVyxHQUFHLGdDQUFnQztBQUNsSDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhEQUFTLFlBQVksNERBQVcsRUFBRSxpQkFBaUIsYUFBYTtBQUM1RTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFTLFlBQVksNERBQVcsRUFBRTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCx1QkFBdUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RGeUQ7QUFDUDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0REFBVyxFQUFFO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlLFFBQVEsbVFBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx1REFBZ0IsR0FBRyxnREFBUztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0REFBVyxFQUFFLEVBQUUsdUJBQXVCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxZQUFZLHVCQUF1QixRQUFRLDJQQUE2QixJQUFJLGNBQWMsUUFBUSxpV0FBMEI7QUFDNUg7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92c2hiLmxvY2FsLy4vbm9kZV9tb2R1bGVzL0B0c3BhcnRpY2xlcy9zaGFwZS1pbWFnZS9icm93c2VyL1V0aWxzLmpzIiwid2VicGFjazovL3ZzaGIubG9jYWwvLi9ub2RlX21vZHVsZXMvQHRzcGFydGljbGVzL3NoYXBlLWltYWdlL2Jyb3dzZXIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyb3JQcmVmaXgsIGdldExvZ2dlciwgZ2V0U3R5bGVGcm9tSHNsIH0gZnJvbSBcIkB0c3BhcnRpY2xlcy9lbmdpbmVcIjtcbmNvbnN0IHN0cmluZ1N0YXJ0ID0gMCwgZGVmYXVsdE9wYWNpdHkgPSAxO1xuY29uc3QgY3VycmVudENvbG9yUmVnZXggPSAvKCMoPzpbMC05YS1mXXsyfSl7Miw0fXwoI1swLTlhLWZdezN9KXwocmdifGhzbClhP1xcKCgtP1xcZCslP1ssXFxzXSspezIsM31cXHMqW1xcZC5dKyU/XFwpKXxjdXJyZW50Y29sb3IvZ2k7XG5mdW5jdGlvbiByZXBsYWNlQ29sb3JTdmcoaW1hZ2VTaGFwZSwgY29sb3IsIG9wYWNpdHkpIHtcbiAgICBjb25zdCB7IHN2Z0RhdGEgfSA9IGltYWdlU2hhcGU7XG4gICAgaWYgKCFzdmdEYXRhKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjb25zdCBjb2xvclN0eWxlID0gZ2V0U3R5bGVGcm9tSHNsKGNvbG9yLCBvcGFjaXR5KTtcbiAgICBpZiAoc3ZnRGF0YS5pbmNsdWRlcyhcImZpbGxcIikpIHtcbiAgICAgICAgcmV0dXJuIHN2Z0RhdGEucmVwbGFjZShjdXJyZW50Q29sb3JSZWdleCwgKCkgPT4gY29sb3JTdHlsZSk7XG4gICAgfVxuICAgIGNvbnN0IHByZUZpbGxJbmRleCA9IHN2Z0RhdGEuaW5kZXhPZihcIj5cIik7XG4gICAgcmV0dXJuIGAke3N2Z0RhdGEuc3Vic3RyaW5nKHN0cmluZ1N0YXJ0LCBwcmVGaWxsSW5kZXgpfSBmaWxsPVwiJHtjb2xvclN0eWxlfVwiJHtzdmdEYXRhLnN1YnN0cmluZyhwcmVGaWxsSW5kZXgpfWA7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKGltYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGltYWdlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2UuZWxlbWVudCA9IGltZztcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgIGltYWdlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaW1hZ2UuZWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGltYWdlLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIGltYWdlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGdldExvZ2dlcigpLmVycm9yKGAke2Vycm9yUHJlZml4fSBsb2FkaW5nIGltYWdlOiAke2ltYWdlLnNvdXJjZX1gKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGltZy5zcmMgPSBpbWFnZS5zb3VyY2U7XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRTdmdJbWFnZShpbWFnZSkge1xuICAgIGlmIChpbWFnZS50eXBlICE9PSBcInN2Z1wiKSB7XG4gICAgICAgIGF3YWl0IGxvYWRJbWFnZShpbWFnZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW1hZ2UubG9hZGluZyA9IHRydWU7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChpbWFnZS5zb3VyY2UpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgZ2V0TG9nZ2VyKCkuZXJyb3IoYCR7ZXJyb3JQcmVmaXh9IEltYWdlIG5vdCBmb3VuZGApO1xuICAgICAgICBpbWFnZS5lcnJvciA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbWFnZS5zdmdEYXRhID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIH1cbiAgICBpbWFnZS5sb2FkaW5nID0gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUltYWdlQ29sb3IoaW1hZ2UsIGltYWdlRGF0YSwgY29sb3IsIHBhcnRpY2xlKSB7XG4gICAgY29uc3Qgc3ZnQ29sb3JlZERhdGEgPSByZXBsYWNlQ29sb3JTdmcoaW1hZ2UsIGNvbG9yLCBwYXJ0aWNsZS5vcGFjaXR5Py52YWx1ZSA/PyBkZWZhdWx0T3BhY2l0eSksIGltYWdlUmVzID0ge1xuICAgICAgICBjb2xvcixcbiAgICAgICAgZ2lmOiBpbWFnZURhdGEuZ2lmLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAuLi5pbWFnZSxcbiAgICAgICAgICAgIHN2Z0RhdGE6IHN2Z0NvbG9yZWREYXRhLFxuICAgICAgICB9LFxuICAgICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgICAgICByYXRpbzogaW1hZ2VEYXRhLndpZHRoIC8gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgcmVwbGFjZUNvbG9yOiBpbWFnZURhdGEucmVwbGFjZUNvbG9yLFxuICAgICAgICBzb3VyY2U6IGltYWdlRGF0YS5zcmMsXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gbmV3IEJsb2IoW3N2Z0NvbG9yZWREYXRhXSwgeyB0eXBlOiBcImltYWdlL3N2Zyt4bWxcIiB9KSwgZG9tVXJsID0gVVJMIHx8IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCB8fCB3aW5kb3csIHVybCA9IGRvbVVybC5jcmVhdGVPYmplY3RVUkwoc3ZnKSwgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpbWFnZVJlcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW1hZ2VSZXMuZWxlbWVudCA9IGltZztcbiAgICAgICAgICAgIHJlc29sdmUoaW1hZ2VSZXMpO1xuICAgICAgICAgICAgZG9tVXJsLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZXJyb3JIYW5kbGVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgZG9tVXJsLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgICAgY29uc3QgaW1nMiA9IHtcbiAgICAgICAgICAgICAgICAuLi5pbWFnZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCBsb2FkSW1hZ2UoaW1nMik7XG4gICAgICAgICAgICBpbWFnZVJlcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW1hZ2VSZXMuZWxlbWVudCA9IGltZzIuZWxlbWVudDtcbiAgICAgICAgICAgIHJlc29sdmUoaW1hZ2VSZXMpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsICgpID0+IHZvaWQgZXJyb3JIYW5kbGVyKCkpO1xuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgZG93bmxvYWRTdmdJbWFnZSwgbG9hZEltYWdlIH0gZnJvbSBcIi4vVXRpbHMuanNcIjtcbmltcG9ydCB7IGVycm9yUHJlZml4IH0gZnJvbSBcIkB0c3BhcnRpY2xlcy9lbmdpbmVcIjtcbmNvbnN0IGV4dExlbmd0aCA9IDM7XG5mdW5jdGlvbiBhZGRMb2FkSW1hZ2VUb0VuZ2luZShlbmdpbmUpIHtcbiAgICBpZiAoZW5naW5lLmxvYWRJbWFnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVuZ2luZS5sb2FkSW1hZ2UgPSBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIWRhdGEubmFtZSAmJiAhZGF0YS5zcmMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnJvclByZWZpeH0gbm8gaW1hZ2Ugc291cmNlIHByb3ZpZGVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbmdpbmUuaW1hZ2VzKSB7XG4gICAgICAgICAgICBlbmdpbmUuaW1hZ2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZ2luZS5pbWFnZXMuZmluZCgodCkgPT4gdC5uYW1lID09PSBkYXRhLm5hbWUgfHwgdC5zb3VyY2UgPT09IGRhdGEuc3JjKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHtcbiAgICAgICAgICAgICAgICBnaWY6IGRhdGEuZ2lmID8/IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSA/PyBkYXRhLnNyYyxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IGRhdGEuc3JjLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEuc3JjLnN1YnN0cmluZyhkYXRhLnNyYy5sZW5ndGggLSBleHRMZW5ndGgpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlcGxhY2VDb2xvcjogZGF0YS5yZXBsYWNlQ29sb3IsXG4gICAgICAgICAgICAgICAgcmF0aW86IGRhdGEud2lkdGggJiYgZGF0YS5oZWlnaHQgPyBkYXRhLndpZHRoIC8gZGF0YS5oZWlnaHQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZW5naW5lLmltYWdlcy5wdXNoKGltYWdlKTtcbiAgICAgICAgICAgIGxldCBpbWFnZUZ1bmM7XG4gICAgICAgICAgICBpZiAoZGF0YS5naWYpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxvYWRHaWZJbWFnZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9HaWZVdGlscy9VdGlscy5qc1wiKTtcbiAgICAgICAgICAgICAgICBpbWFnZUZ1bmMgPSBsb2FkR2lmSW1hZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbWFnZUZ1bmMgPSBkYXRhLnJlcGxhY2VDb2xvciA/IGRvd25sb2FkU3ZnSW1hZ2UgOiBsb2FkSW1hZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBpbWFnZUZ1bmMoaW1hZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnJvclByZWZpeH0gJHtkYXRhLm5hbWUgPz8gZGF0YS5zcmN9IG5vdCBmb3VuZGApO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkSW1hZ2VTaGFwZShlbmdpbmUsIHJlZnJlc2ggPSB0cnVlKSB7XG4gICAgYWRkTG9hZEltYWdlVG9FbmdpbmUoZW5naW5lKTtcbiAgICBjb25zdCB7IEltYWdlUHJlbG9hZGVyUGx1Z2luIH0gPSBhd2FpdCBpbXBvcnQoXCIuL0ltYWdlUHJlbG9hZGVyLmpzXCIpLCB7IEltYWdlRHJhd2VyIH0gPSBhd2FpdCBpbXBvcnQoXCIuL0ltYWdlRHJhd2VyLmpzXCIpO1xuICAgIGNvbnN0IHByZWxvYWRlciA9IG5ldyBJbWFnZVByZWxvYWRlclBsdWdpbihlbmdpbmUpO1xuICAgIGF3YWl0IGVuZ2luZS5hZGRQbHVnaW4ocHJlbG9hZGVyLCByZWZyZXNoKTtcbiAgICBhd2FpdCBlbmdpbmUuYWRkU2hhcGUoW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl0sIG5ldyBJbWFnZURyYXdlcihlbmdpbmUpLCByZWZyZXNoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==